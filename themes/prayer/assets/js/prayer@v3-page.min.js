const today=new Date,day=today.getDate(),month=today.getMonth(),year=today.getFullYear(),stringMonths=["January","February","March","April","May","June","July","August","September","October","November","December"],stringDay=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"];function getSelectMonth(){let t="",a="";for(let e=0;e<stringMonths.length;e++){a=e+1,t+='<option value="'+a+'"'+(e===month?" selected":"")+">"+stringMonths[e]+"</option>"}document.getElementById("month").innerHTML=t,getKota()}getSelectMonth();var selectkota=document.querySelector(".city-list");function getKota(){fetch("https://api.myquran.com/v1/sholat/kota/semua").then((t=>t.json())).then((t=>{t.forEach((function(t){let a=selectkota.getAttribute("city-id")==t.id?"selected":"",e='<option value="'+t.id+'"'+a+">"+t.lokasi+"</option>";selectkota.insertAdjacentHTML("beforeend",e)})),getJadwal()}))}function getJadwal(){const t=document.getElementById("idselect").value,a=document.getElementById("month").value,e=month+1,s=stringDay[today.getDay()]+", "+day+" "+stringMonths[month]+" "+year,n=fetch("https://api.myquran.com/v1/sholat/jadwal/"+t+"/"+year+"/"+a).then((t=>t.json())),i=fetch("https://api.myquran.com/v1/sholat/jadwal/"+t+"/"+year+"/"+e+"/"+day).then((t=>t.json()));Promise.all([n]).then((([t])=>{const a=t.data,e=a.jadwal,s=(a.lokasi,a.id);let n="",i=today.toLocaleDateString();for(var l=0;l<e.length;l++){var d=e[l],o=e[l].date;n+=`<tr class='${s} ${i==new Date(o).toLocaleDateString()?"table-active":""}'><td>${d.tanggal}</td><td>${d.imsak}</td><td>${d.subuh}</td><td>${d.dzuhur}</td><td>${d.ashar}</td><td>${d.maghrib}</td><td>${d.isya}</td></tr>`}const r=document.getElementById("data-table");document.getElementById("infosumber").innerHTML="<span>Sumber: Bimas Islam Kementerian Agama</span>";r.innerHTML=n})),Promise.all([i]).then((([t])=>{const a=t.data,e=a.jadwal,n=a.lokasi;let i="";i+="<div class='prayer-time'>",i+="<span class='name'>Imsyak</span>",i+=`<span class='time'>${e.imsak}</span>`,i+="</div>",i+="<div class='prayer-time'>",i+="<span class='name'>Subuh</span>",i+=`<span class='time'>${e.subuh}</span>`,i+="</div>",i+="<div class='prayer-time'>",i+="<span class='name'>Dzuhur</span>",i+=`<span class='time'>${e.dzuhur}</span>`,i+="</div>",i+="<div class='prayer-time'>",i+="<span class='name'>Ashar</span>",i+=`<span class='time'>${e.ashar}</span>`,i+="</div>",i+="<div class='prayer-time'>",i+="<span class='name'>Magrib</span>",i+=`<span class='time'>${e.maghrib}</span>`,i+="</div>",i+="<div class='prayer-time'>",i+="<span class='name'>Isya</span>",i+=`<span class='time'>${e.isya}</span>`,i+="</div>";let l=i,d='<div class="details">Jadwal sholat untuk wilayah '+n+" dan Sekitarnya. </div>";d+='<div class="dates">'+s+"</div>";const o=document.getElementById("headertitle"),r=document.getElementById("schedule");o.innerHTML=d,r.innerHTML=l})).catch((t=>console.log(t)))}; $(document).ready(function(){$("select").select2({width:"resolve"})});